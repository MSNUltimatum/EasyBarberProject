<!DOCTYPE html>
<html
        lang="ru"
        xmlns ="http://www.w3.org/1999/xhtml"
        xmlns:th="http://www.thymeleaf.org"
        xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity3"
>
<head>
  <meta charset="utf-8" />
  <meta
          name="viewport"
          content="width=device-width, initial-scale=1, shrink-to-fit=no"
  />
  <link
          href="https://fonts.googleapis.com/css?family=Roboto:400,900,900italic,700italic,700,500italic,400italic,500,300italic,300"
          rel="stylesheet"
          type="text/css"
  />
  <link
          rel="stylesheet"
          href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
          integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
          crossorigin="anonymous"
  />
  <title>Easy Barber</title>
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta
          name="viewport"
          content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"
  />
  <link
          rel="icon"
          type="image/x-icon"
          href="../static/image/small-logo.png"
          th:href="@{/image/small-logo.ico}"
  />
  <link
          rel="stylesheet"
          href="../static/styles/headerStyle.css"
          th:href="@{/styles/headerStyle.css}"
  />
  <link
          rel="stylesheet"
          href="../static/styles/masterScheduleStyle.css"
          th:href="@{/styles/masterScheduleStyle.css}"
  />
  <link
          rel="stylesheet"
          href="../static/styles/loginPageStyle.css"
          th:href="@{/styles/loginPageStyle.css}"
  />
  <link
          rel="stylesheet"
          href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css"
  />
  <link
          rel="stylesheet"
          href="https://bootstraptema.ru/plugins/font-awesome/4-4-0/font-awesome.min.css"
  />
  <script src="http://code.jquery.com/jquery-3.4.1.js"></script>
  <script
          src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
          integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
          crossorigin="anonymous"
  ></script>
  <script
          src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
          integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
          crossorigin="anonymous"
  ></script>
  <script
          src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
          integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
          crossorigin="anonymous"
  ></script>
  <style>
    @import url("https://fonts.googleapis.com/css2?family=Prata&display=swap");
    h2,
    h5 {
      font-family: "Prata", serif;
      color: #470359;
    }
    h2 {
      font-size: 35px;
    }
    h5 {
      font-size: 25px;
    }
    body {
      background-image: none;
    }
    .form { background: #ffffff; }
    .form1 {
      background: #ffffff;
      padding: 25px;
      margin-bottom: 50px;
      max-width: 280px;
      min-width: 240px;
    }
    .form1 button {
      margin:5px;
    }
  </style>
</head>
<body>
<div id="wrap">
  <header>
    <div id="header">
      <div id="main-header" class="object">
        <div class="container-positionForHeader">
          <div class="containerForHeader">
            <div class="row">
              <div
                      class="col-xl-1 col-lg-1 col-md-1 col-sm-1 hidden-xs save the logo"
              ></div>
              <div class="col-xl-2 col-lg-2 col-md-3 col-sm-4 hidden-xs">
                <div class="logo">
                  <img
                          src="../static/image/logo.png"
                          th:src="@{/image/logo.png}"
                          alt="Здесь будет логотип"
                          height="38"
                          width="90"
                  />
                </div>
              </div>
              <div class="hidden-xl hidden-lg hidden-md hidden-sm col-xs-2">
                <div class="logo">
                  <img
                          src="../static/image/logo1.png"
                          th:src="@{/image/logo1.png}"
                  />
                </div>
              </div>
              <div
                      class="col-xl-5 col-lg-5 col-md-4 col-sm-3 col-xs-1 empty block"
              ></div>
              <div class="col-xl-4 col-lg-4 col-md-4 col-sm-4 col-xs-8">
                <div id="main_tip_search">
                  <form>
                    <input
                            type="text"
                            name="search"
                            id="tip_search_input"
                            list="search"
                            autocomplete="off"
                            required
                    />
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>
</div>
<nav class="navbar navbar-expand-sm bg-light">
  <ul class="navbar-nav">
    <li class="nav-item">
      <a class="nav-link" href="index.html" th:href="@{/}">Главная</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" th:href="@{/masterList}">Мастера</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="#">О нас</a>
    </li>
  </ul>
</nav>

<div class="block2">
  <form
          class="form"
          th:action="@{'/receptiontimeE/' + receptionRegistration}"
          method="post"
  >
    <h5>Записать клиента</h5>
    <input
            type="date"
            th:name="date"
            th:value="${currentDate}"
            class="Date"
    />
    <input
            type="time"
            th:name="time"
            th:value="${currentTime}"
            class="Time"
    />
    <input type="text" th:name="userName" placeholder="Имя" />
    <input type="text" th:name="userPhone" placeholder="Телефон" />
    <select th:name="serviceType" class="AccountType">
      <option th:value="-1" selected="selected" class="types"
      >Выберите тип услуги</option
      >
      <th th:each="service : ${servises}">
        <option
                th:value="${service.getServices().getName()}"
                th:text="${service.getServices().getName()}"
        ></option>
      </th>
    </select>
    <button type="submit">Сохранить</button>
  </form>
</div>
<div class="block3">
  <form
          class="form"
          th:action="@{'/receptiontimeE/' + receptionRegistrationArabian}"
          method="post"
  >
    <h5>Внести расписание</h5>
    <input
            type="date"
            th:name="date"
            th:value="${currentDate}"
            class="Date"
    />
    <input
            type="time"
            th:name="beginTime"
            th:value="${currentTime}"
            class="Time"
    />
    <input
            type="time"
            th:name="endTime"
            th:value="${currentTime}"
            class="Time"
    />
    <div th:each="int : ${spans}">
      <label
      ><input type="radio" th:value="${int}" name="span" th:text="${int}"
      /></label>
    </div>
    <button type="submit">Сохранить</button>
  </form>
</div>

<div class="block4_new">
  <form th:action="@{'/receptiontimeE/' + timetable}" method="post">
    <table>
      <thead>
      <tr th:each="dat:${dates}">
        <input
                type="submit"
                size="4"
                th:name="${dat}"
                th:value="${dat.getDayOfWeek().toString().substring(0,3) + ',' + dat.getDayOfMonth()}">
      </tr>
      </thead>
    </table>
  </form>
  <!-- позиционирование по 4, потом по 3, 2, 1 блока в ряду -->
  <div class="row" th:unless="${#lists.isEmpty(reseptionTime)}">
    <div class="col-xl-3 col-lg-3 col-md-4 col-sm-6 col-xs-12" id="block" th:each="time : ${reseptionTime}">
      <form th:action="@{'/receptiontimeE/' + saveRecep}" method="post" class="form1">
        <input oninput="highlightOn()" name="userName" type="text" th:value="${time.getClientName()}">
        <input oninput="highlightOn()" name="userPhone" type="text" th:value="${time.getClientPhonenumber()}">
        <input oninput="highlightOn()" name="date" type="text" th:value="${time.getUsrReceptionTime().getDate()}">
        <input oninput="highlightOn()" name="userTime" type="text" th:value="${time.getUsrReceptionTime().getTime()}">
        <select onchange="highlightOn()" name="userService" th:name="userService" class="AccountType">
          <option th:value="-1" selected="selected">Выберите тип услуги</option>
          <option
                  th:each="service : ${servises}"
                  th:value="${service.getServices().getName()}"
                  th:selected="${service.getServices().getId() == time.getServiceId()}"
                  th:text="${service.getServices().getName()}"></option>
        </select>
        <select onchange="highlightOn()" name="receptionStatus" th:name="receptionStatus" class="AccountType">
          <option th:value="-1" selected="selected">Выберите тип услуги</option>
          <option
                  th:each="status : ${statuses}"
                  th:value="${status.name()}"
                  th:selected="${status.name() == time.getStatus().name()}"
                  th:text="${status.name()}"></option>
        </select>
        <button onclick="highlightOff()" type="submit" th:name="save" th:value="Save">
          Сохранить
        </button>
        <button type="submit" th:name="delete" th:value="Delete">
          Удалить
        </button>
      </form>
    </div>
  </div>
</div>
<script>
  function highlightOn() {
    let target = event.target;
    target.style.background = '#98f5b0';
  }
  function highlightOff() {
    let target1 = event.target.form.input1;
    target1.style.background = '';
    let target2 = event.target.form.input2;
    target2.style.background = '';
    let target3 = event.target.form.input3;
    target3.style.background = '';
    let target4 = event.target.form.input4;
    target4.style.background = '';
    let target5 = event.target.form.input5;
    target5.style.background = '';
  }
  $(document).ready(function () {
    var readURL = function (input) {
      if (input.files && input.files[0]) {
        var reader = new FileReader();
        reader.onload = function (e) {
          $(".avatar").attr("src", e.target.result);
        };
        reader.readAsDataURL(input.files[0]);
      }
    };
    $(".file-upload").on("change", function () {
      readURL(this);
    });
  });
</script>
</body>
</html>
